<ng-container *ngIf="filteredProducts$ | async as products">
  @if (products.length > 0) {
    <ng-container *ngIf="visable$ | async as visable">
      <app-dialog *ngIf="visable" />
    </ng-container>

    <div class="table w-full">
      <p-table [value]="products">
        <ng-template pTemplate="header">
          <tr class="table-row">
            <th>image</th>
            <th>Category</th>
            <th>title</th>
            <th>price</th>
            <th>detailtest</th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-product>
          <tr>
            <td>
              <img
                width="100"
                height="100"
                [src]="product.image"
                [alt]="product.title"
              />
            </td>
            <td>{{ product.category }}</td>
            <td>{{ product.title }}</td>
            <td>{{ product.price }}</td>

            <td>
              <p-button (onClick)="setProductData(product)" label="Show" />
            </td>
          </tr>
        </ng-template>
      </p-table>
    </div>
  } @else {
    <p>No products found</p>
  }
</ng-container>
